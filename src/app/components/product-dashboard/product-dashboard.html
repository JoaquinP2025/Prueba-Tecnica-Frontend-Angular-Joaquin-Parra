<div class="dashboard-container">
    <h2>Prueba Técnica Prueba Técnica - Desarrollador Frontend Angular 16+ Joaquín Parra S</h2>

    <!-- Botón Agregar Producto -->
    <button class="btn-add" (click)="openAddProductModal()">Agregar producto</button>

    <!-- Modal Agregar Producto -->
    <div class="modal-backdrop" *ngIf="isModalOpen"></div>

    <div class="modal-wrapper" *ngIf="isModalOpen" [ngStyle]="{ top: modalTop + 'px', left: modalLeft + 'px' }"
        (mousedown)="startDrag($event)">
        <div class="modal-header">
            <h4>Agregar Producto</h4>
            <button class="btn-close" (click)="closeModal()"></button>
        </div>

        <div class="modal-body">
            <form [formGroup]="addProductForm" (ngSubmit)="submitAddProduct()">
                <div class="form-grid">
                    <!-- Nombre -->
                    <div class="form-group">
                        <label>Nombre</label>
                        <input type="text" formControlName="name" placeholder="Nombre del producto" />
                        <div class="text-error" *ngIf="nameInvalid">El nombre es obligatorio.</div>
                    </div>

                    <!-- Precio -->
                    <div class="form-group">
                        <label>Precio</label>
                        <input type="number" formControlName="price" placeholder="Precio del producto" />
                        <div class="text-error" *ngIf="priceInvalid">Precio debe ser mayor a 0.</div>
                    </div>

                    <!-- Stock -->
                    <div class="form-group">
                        <label>Stock</label>
                        <input type="number" formControlName="stock" placeholder="Stock del producto" />
                        <div class="text-error" *ngIf="stockInvalid">Stock debe ser 0 o más.</div>
                    </div>
                </div>

                <div class="modal-footer">
                    <button type="submit" class="btn-submit">Agregar</button>
                    <button type="button" class="btn-cancel" (click)="closeModal()">Cerrar</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Tabla de productos -->
    <table class="product-table">
        <thead>
            <tr>
                <th>Nombre</th>
                <th>Precio</th>
                <th>Stock</th>
                <th>Acciones</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let product of products">
                <td>{{ product.name }}</td>
                <td>{{ product.price | currency }}</td>
                <td>{{ product.stock }}</td>
                <td>
                    <button class="btn-delete" (click)="deleteProduct(product.id)">Eliminar</button>
                </td>
            </tr>
        </tbody>
    </table>
</div>













